<mujoco model="beewalker">
  <!--
    BeeWalker - Based on Gymnasium Walker2d
    Reskinned with BeeBot Joint v2.1 servo geometry
    
    Structure: torso -> thigh (hip) -> leg (knee) -> foot (ankle)
    3 DOF per leg, all hinges around Y axis (sagittal plane motion)
  -->
  
  <compiler angle="degree" inertiafromgeom="true"/>
  
  <default>
    <joint armature="0.01" damping="0.1" limited="true"/>
    <geom conaffinity="0" condim="3" contype="1" density="1250" friction="0.8 0.1 0.1"/>
    <motor ctrllimited="true" ctrlrange="-1.0 1.0"/>
  </default>
  
  <option integrator="RK4" timestep="0.002"/>
  
  <asset>
    <texture type="skybox" builtin="gradient" rgb1="0.4 0.6 0.8" rgb2="0.1 0.1 0.2" width="100" height="100"/>
    <texture builtin="checker" height="100" name="texplane" rgb1="0.3 0.3 0.3" rgb2="0.4 0.4 0.4" type="2d" width="100"/>
    <material name="MatPlane" reflectance="0.3" texrepeat="30 30" texture="texplane"/>
    
    <!-- BeeBot materials -->
    <material name="servo_orange" rgba="0.95 0.55 0.1 1" specular="0.5" shininess="0.5"/>
    <material name="servo_face_blue" rgba="0.2 0.35 0.6 1" specular="0.4" shininess="0.4"/>
    <material name="bracket_gray" rgba="0.75 0.77 0.8 1" specular="0.3" shininess="0.3"/>
    <material name="ring_orange" rgba="0.85 0.45 0.05 1" specular="0.6" shininess="0.6"/>
    <material name="foot_green" rgba="0.2 0.7 0.3 1" specular="0.5" shininess="0.6"/>
  </asset>
  
  <worldbody>
    <light cutoff="100" diffuse="1 1 1" dir="0 0 -1.3" directional="true" pos="0 0 1.3" specular="0.1 0.1 0.1"/>
    <geom conaffinity="1" condim="3" name="floor" pos="0 0 0" size="40 40 0.1" type="plane" material="MatPlane"/>
    
    <!-- TORSO at height ~0.35m (scaled from Walker2d's 1.25m) -->
    <body name="torso" pos="0 0 0.35">
      <camera name="track" mode="trackcom" pos="0 -1 0" xyaxes="1 0 0 0 0 1"/>
      
      <!-- Root joints for free planar movement -->
      <joint armature="0" axis="1 0 0" damping="0" limited="false" name="rootx" pos="0 0 -0.35" stiffness="0" type="slide"/>
      <joint armature="0" axis="0 0 1" damping="0" limited="false" name="rootz" pos="0 0 -0.35" ref="0.35" stiffness="0" type="slide"/>
      <joint armature="0" axis="0 1 0" damping="0" limited="false" name="rooty" pos="0 0 0" stiffness="0" type="hinge"/>
      
      <!-- Torso geometry -->
      <geom name="torso_main" type="box" size="0.05 0.03 0.025" material="bracket_gray"/>
      <geom name="torso_top" type="box" pos="0 0 0.022" size="0.04 0.025 0.005" rgba="0.4 0.42 0.45 1"/>
      
      
      <!-- ========== RIGHT LEG ========== -->
      <body name="thigh" pos="0.035 0 -0.025">
        <joint axis="0 -1 0" name="thigh_joint" pos="0 0 0" range="-90 90" type="hinge"/>
        
        <!-- Hip servo module -->
        <geom name="r_hip_servo" type="cylinder" size="0.024 0.031" euler="0 90 0" material="servo_orange"/>
        <geom name="r_hip_cap" type="box" pos="0 0 0.022" size="0.031 0.013 0.005" material="servo_orange"/>
        <geom name="r_hip_face_r" type="cylinder" pos="0.033 0 0" size="0.019 0.003" euler="0 90 0" material="servo_face_blue"/>
        <geom name="r_hip_face_l" type="cylinder" pos="-0.033 0 0" size="0.019 0.003" euler="0 90 0" material="servo_face_blue"/>
        <geom name="r_hip_ring" type="cylinder" pos="0.036 0 0" size="0.027 0.004" euler="0 90 0" material="ring_orange" contype="0" conaffinity="0"/>
        
        <!-- Bracket down to knee -->
        <geom name="r_hip_bracket" type="box" pos="0 0 -0.045" size="0.024 0.006 0.025" material="bracket_gray"/>
        
        <body name="leg" pos="0 0 -0.08">
          <joint axis="0 -1 0" name="leg_joint" pos="0 0 0" range="-90 90" type="hinge"/>
          
          <!-- Knee servo module -->
          <geom name="r_knee_servo" type="cylinder" size="0.024 0.031" euler="0 90 0" material="servo_orange"/>
          <geom name="r_knee_cap" type="box" pos="0 0 0.022" size="0.031 0.013 0.005" material="servo_orange"/>
          <geom name="r_knee_face_r" type="cylinder" pos="0.033 0 0" size="0.019 0.003" euler="0 90 0" material="servo_face_blue"/>
          <geom name="r_knee_face_l" type="cylinder" pos="-0.033 0 0" size="0.019 0.003" euler="0 90 0" material="servo_face_blue"/>
          <geom name="r_knee_ring" type="cylinder" pos="0.036 0 0" size="0.027 0.004" euler="0 90 0" material="ring_orange" contype="0" conaffinity="0"/>
          
          <!-- Bracket down to ankle -->
          <geom name="r_knee_bracket" type="box" pos="0 0 -0.045" size="0.024 0.006 0.025" material="bracket_gray"/>
          
          <body name="foot" pos="0 0 -0.08">
            <joint axis="0 -1 0" name="foot_joint" pos="0 0 0" range="-45 45" type="hinge"/>
            
            <!-- Ankle servo module -->
            <geom name="r_ankle_servo" type="cylinder" size="0.024 0.031" euler="0 90 0" material="servo_orange"/>
            <geom name="r_ankle_cap" type="box" pos="0 0 0.022" size="0.031 0.013 0.005" material="servo_orange"/>
            <geom name="r_ankle_face_r" type="cylinder" pos="0.033 0 0" size="0.019 0.003" euler="0 90 0" material="servo_face_blue"/>
            <geom name="r_ankle_face_l" type="cylinder" pos="-0.033 0 0" size="0.019 0.003" euler="0 90 0" material="servo_face_blue"/>
            <geom name="r_ankle_ring" type="cylinder" pos="0.036 0 0" size="0.027 0.004" euler="0 90 0" material="ring_orange" contype="0" conaffinity="0"/>
            
            <!-- Foot -->
            <geom name="r_foot_bracket" type="box" pos="0 0 -0.025" size="0.024 0.006 0.015" material="bracket_gray"/>
            <geom name="r_foot_base" type="box" pos="0 0.03 -0.045" size="0.03 0.05 0.008" material="bracket_gray" friction="0.9"/>
            <geom name="r_foot_toe" type="box" pos="0 0.085 -0.045" size="0.025 0.015 0.008" material="foot_green" friction="0.9"/>
          </body>
        </body>
      </body>
      
      
      <!-- ========== LEFT LEG ========== -->
      <body name="thigh_left" pos="-0.035 0 -0.025">
        <joint axis="0 -1 0" name="thigh_left_joint" pos="0 0 0" range="-90 90" type="hinge"/>
        
        <!-- Hip servo module -->
        <geom name="l_hip_servo" type="cylinder" size="0.024 0.031" euler="0 90 0" material="servo_orange"/>
        <geom name="l_hip_cap" type="box" pos="0 0 0.022" size="0.031 0.013 0.005" material="servo_orange"/>
        <geom name="l_hip_face_r" type="cylinder" pos="0.033 0 0" size="0.019 0.003" euler="0 90 0" material="servo_face_blue"/>
        <geom name="l_hip_face_l" type="cylinder" pos="-0.033 0 0" size="0.019 0.003" euler="0 90 0" material="servo_face_blue"/>
        <geom name="l_hip_ring" type="cylinder" pos="-0.036 0 0" size="0.027 0.004" euler="0 90 0" material="ring_orange" contype="0" conaffinity="0"/>
        
        <!-- Bracket down to knee -->
        <geom name="l_hip_bracket" type="box" pos="0 0 -0.045" size="0.024 0.006 0.025" material="bracket_gray"/>
        
        <body name="leg_left" pos="0 0 -0.08">
          <joint axis="0 -1 0" name="leg_left_joint" pos="0 0 0" range="-90 90" type="hinge"/>
          
          <!-- Knee servo module -->
          <geom name="l_knee_servo" type="cylinder" size="0.024 0.031" euler="0 90 0" material="servo_orange"/>
          <geom name="l_knee_cap" type="box" pos="0 0 0.022" size="0.031 0.013 0.005" material="servo_orange"/>
          <geom name="l_knee_face_r" type="cylinder" pos="0.033 0 0" size="0.019 0.003" euler="0 90 0" material="servo_face_blue"/>
          <geom name="l_knee_face_l" type="cylinder" pos="-0.033 0 0" size="0.019 0.003" euler="0 90 0" material="servo_face_blue"/>
          <geom name="l_knee_ring" type="cylinder" pos="-0.036 0 0" size="0.027 0.004" euler="0 90 0" material="ring_orange" contype="0" conaffinity="0"/>
          
          <!-- Bracket down to ankle -->
          <geom name="l_knee_bracket" type="box" pos="0 0 -0.045" size="0.024 0.006 0.025" material="bracket_gray"/>
          
          <body name="foot_left" pos="0 0 -0.08">
            <joint axis="0 -1 0" name="foot_left_joint" pos="0 0 0" range="-45 45" type="hinge"/>
            
            <!-- Ankle servo module -->
            <geom name="l_ankle_servo" type="cylinder" size="0.024 0.031" euler="0 90 0" material="servo_orange"/>
            <geom name="l_ankle_cap" type="box" pos="0 0 0.022" size="0.031 0.013 0.005" material="servo_orange"/>
            <geom name="l_ankle_face_r" type="cylinder" pos="0.033 0 0" size="0.019 0.003" euler="0 90 0" material="servo_face_blue"/>
            <geom name="l_ankle_face_l" type="cylinder" pos="-0.033 0 0" size="0.019 0.003" euler="0 90 0" material="servo_face_blue"/>
            <geom name="l_ankle_ring" type="cylinder" pos="-0.036 0 0" size="0.027 0.004" euler="0 90 0" material="ring_orange" contype="0" conaffinity="0"/>
            
            <!-- Foot -->
            <geom name="l_foot_bracket" type="box" pos="0 0 -0.025" size="0.024 0.006 0.015" material="bracket_gray"/>
            <geom name="l_foot_base" type="box" pos="0 0.03 -0.045" size="0.03 0.05 0.008" material="bracket_gray" friction="0.9"/>
            <geom name="l_foot_toe" type="box" pos="0 0.085 -0.045" size="0.025 0.015 0.008" material="foot_green" friction="0.9"/>
          </body>
        </body>
      </body>
      
    </body>
  </worldbody>
  
  <!-- Actuators: MG996R ~1.1 Nm, gear=100 matches Walker2d scaling -->
  <actuator>
    <motor joint="thigh_joint" gear="100"/>
    <motor joint="leg_joint" gear="100"/>
    <motor joint="foot_joint" gear="100"/>
    <motor joint="thigh_left_joint" gear="100"/>
    <motor joint="leg_left_joint" gear="100"/>
    <motor joint="foot_left_joint" gear="100"/>
  </actuator>
</mujoco>