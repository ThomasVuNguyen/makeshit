<mujoco model="beewalker">
  <compiler angle="degree" coordinate="local" inertiafromgeom="true"/>
  
  <option timestep="0.002" gravity="0 0 -9.81" integrator="RK4"/>
  
  <visual>
    <global offwidth="800" offheight="800"/>
  </visual>
  
  <default>
    <joint limited="true" damping="0.5" armature="0.01"/>
    <geom contype="1" conaffinity="1" condim="3" friction="1 0.5 0.5"/>
    <motor ctrllimited="true" ctrlrange="-1 1"/>
  </default>
  
  <asset>
    <texture type="skybox" builtin="gradient" rgb1="0.4 0.6 0.8" rgb2="0.1 0.1 0.2" width="512" height="512"/>
    <texture type="2d" name="groundplane" builtin="checker" rgb1="0.25 0.35 0.4" rgb2="0.15 0.25 0.3" width="512" height="512"/>
    <material name="groundplane" texture="groundplane" texrepeat="10 10"/>
    <!-- PLA materials matching the CAD colors exactly -->
    <material name="pla_yellow" rgba="1 0.75 0.2 1"/>
    <material name="pla_blue" rgba="0.25 0.45 0.85 1"/>
    <material name="pla_gray" rgba="0.65 0.65 0.65 1"/>
    <material name="pla_orange_ring" rgba="1 0.5 0.15 1"/>
  </asset>
  
  <worldbody>
    <!-- Ground plane -->
    <geom name="floor" type="plane" size="10 10 0.1" material="groundplane"/>
    <light directional="true" pos="1 -1 3" dir="-0.2 0.2 -1" diffuse="1 1 1"/>
    <light directional="true" pos="-1 1 2" dir="0.2 -0.2 -1" diffuse="0.5 0.5 0.5"/>
    
    <!-- Main tracking camera -->
    <camera name="track" mode="trackcom" pos="0 -0.8 0.5" xyaxes="1 0 0 0 0.5 0.87"/>
    
    <!-- Fixed reference camera for model preview -->
    <camera name="reference" pos="0.5 -0.5 0.5" xyaxes="0.7 0.7 0 -0.3 0.3 0.9"/>
    
    <!-- BeeWalker Robot -->
    <!-- Based on BeeBot Joint v2.1: Horizontal servo body with bracket on top -->
    <body name="torso" pos="0 0 0.35">
      <freejoint name="root"/>
      <site name="torso_site" pos="0 0 0" size="0.01"/>
      <!-- Main torso body -->
      <geom name="torso_geom" type="box" size="0.08 0.035 0.02" material="pla_gray"/>
      
      <!-- ========== RIGHT LEG ========== -->
      <!-- Hip Joint - BeeBot Joint v2.1: joints bend FORWARD/BACKWARD (X-axis rotation) like human legs -->
      <body name="right_hip" pos="0.06 0 -0.035">
        <!-- X-axis rotation = forward/backward bending like human knee -->
        <joint name="right_hip_joint" type="hinge" axis="1 0 0" range="-90 90"/>
        <!-- Yellow cylindrical servo body (49mm long, 24mm radius) - oriented vertically for leg chain -->
        <geom name="right_hip_body" type="cylinder" pos="0 0 0" size="0.024 0.0245" material="pla_yellow"/>
        <!-- Gray mounting bracket on TOP of cylinder -->
        <geom name="right_hip_bracket" type="box" pos="0 0 0.037" size="0.013 0.0136 0.0145" material="pla_gray"/>
        <!-- Orange ring at BOTTOM (where next joint connects) -->
        <geom name="right_hip_ring" type="cylinder" pos="0 0 -0.027" size="0.026 0.002" material="pla_orange_ring"/>
        <!-- Blue servo disk at BOTTOM - this is the rotating output that connects to next joint -->
        <geom name="right_hip_servo" type="cylinder" pos="0 0 -0.031" size="0.024 0.004" material="pla_blue"/>
        
        <!-- Knee Joint - attaches at the blue disk position -->
        <body name="right_thigh" pos="0 0 -0.062">
          <joint name="right_knee_joint" type="hinge" axis="1 0 0" range="-90 90"/>
          <geom name="right_thigh_body" type="cylinder" pos="0 0 0" size="0.024 0.0245" material="pla_yellow"/>
          <geom name="right_knee_bracket" type="box" pos="0 0 0.037" size="0.013 0.0136 0.0145" material="pla_gray"/>
          <geom name="right_knee_ring" type="cylinder" pos="0 0 -0.027" size="0.026 0.002" material="pla_orange_ring"/>
          <geom name="right_knee_servo" type="cylinder" pos="0 0 -0.031" size="0.024 0.004" material="pla_blue"/>
          
          <!-- Ankle Joint -->
          <body name="right_shin" pos="0 0 -0.062">
            <joint name="right_ankle_joint" type="hinge" axis="1 0 0" range="-90 90"/>
            <geom name="right_shin_body" type="cylinder" pos="0 0 0" size="0.024 0.0245" material="pla_yellow"/>
            <geom name="right_ankle_bracket" type="box" pos="0 0 0.037" size="0.013 0.0136 0.0145" material="pla_gray"/>
            <geom name="right_ankle_ring" type="cylinder" pos="0 0 -0.027" size="0.026 0.002" material="pla_orange_ring"/>
            <geom name="right_ankle_servo" type="cylinder" pos="0 0 -0.031" size="0.024 0.004" material="pla_blue"/>
            <!-- Foot -->
            <geom name="right_foot" type="box" pos="0.02 0 -0.045" size="0.035 0.02 0.008" material="pla_gray"/>
          </body>
        </body>
      </body>
      
      <!-- ========== LEFT LEG ========== -->
      <body name="left_hip" pos="-0.06 0 -0.035">
        <joint name="left_hip_joint" type="hinge" axis="1 0 0" range="-90 90"/>
        <geom name="left_hip_body" type="cylinder" pos="0 0 0" size="0.024 0.0245" material="pla_yellow"/>
        <geom name="left_hip_bracket" type="box" pos="0 0 0.037" size="0.013 0.0136 0.0145" material="pla_gray"/>
        <geom name="left_hip_ring" type="cylinder" pos="0 0 -0.027" size="0.026 0.002" material="pla_orange_ring"/>
        <geom name="left_hip_servo" type="cylinder" pos="0 0 -0.031" size="0.024 0.004" material="pla_blue"/>
        
        <body name="left_thigh" pos="0 0 -0.062">
          <joint name="left_knee_joint" type="hinge" axis="1 0 0" range="-90 90"/>
          <geom name="left_thigh_body" type="cylinder" pos="0 0 0" size="0.024 0.0245" material="pla_yellow"/>
          <geom name="left_knee_bracket" type="box" pos="0 0 0.037" size="0.013 0.0136 0.0145" material="pla_gray"/>
          <geom name="left_knee_ring" type="cylinder" pos="0 0 -0.027" size="0.026 0.002" material="pla_orange_ring"/>
          <geom name="left_knee_servo" type="cylinder" pos="0 0 -0.031" size="0.024 0.004" material="pla_blue"/>
          
          <body name="left_shin" pos="0 0 -0.062">
            <joint name="left_ankle_joint" type="hinge" axis="1 0 0" range="-90 90"/>
            <geom name="left_shin_body" type="cylinder" pos="0 0 0" size="0.024 0.0245" material="pla_yellow"/>
            <geom name="left_ankle_bracket" type="box" pos="0 0 0.037" size="0.013 0.0136 0.0145" material="pla_gray"/>
            <geom name="left_ankle_ring" type="cylinder" pos="0 0 -0.027" size="0.026 0.002" material="pla_orange_ring"/>
            <geom name="left_ankle_servo" type="cylinder" pos="0 0 -0.031" size="0.024 0.004" material="pla_blue"/>
            <!-- Foot -->
            <geom name="left_foot" type="box" pos="-0.02 0 -0.045" size="0.035 0.02 0.008" material="pla_gray"/>
          </body>
        </body>
      </body>
    </body>
  </worldbody>
  
  <actuator>
    <!-- MG996R servo motors - gear ratio for torque -->
    <motor name="right_hip_motor" joint="right_hip_joint" gear="50"/>
    <motor name="right_knee_motor" joint="right_knee_joint" gear="50"/>
    <motor name="right_ankle_motor" joint="right_ankle_joint" gear="50"/>
    <motor name="left_hip_motor" joint="left_hip_joint" gear="50"/>
    <motor name="left_knee_motor" joint="left_knee_joint" gear="50"/>
    <motor name="left_ankle_motor" joint="left_ankle_joint" gear="50"/>
  </actuator>
  
  <sensor>
    <accelerometer name="torso_accel" site="torso_site"/>
    <gyro name="torso_gyro" site="torso_site"/>
  </sensor>
</mujoco>
